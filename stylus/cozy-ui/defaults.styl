// @stylint off
// DEFINITIONS
@import '../generic/normalize'
@import '../generic/animations'


// FONTS
@import '../tools/mixins'
@import '../settings/fontstack'

body
    font 1em/1.5
    -moz-osx-font-smoothing grayscale
    -webkit-font-smoothing antialiased
    @extend $font-labor

// Overrides Normalize.css default style
button,
input,
optgroup,
select,
textarea
    @extend $font-labor

// UTILS
@import '../settings/palette'
:global
    .coz-error
        color  pomegranate

        &.coz-error--warning:before
            content         ''
            display         inline-block
            margin-right    .5rem
            width           1rem
            height          .875rem
            background      embedurl('../assets/icons/ui/icon-warning.svg') center center / contain no-repeat
            vertical-align  text-bottom

    .coz-desktop
        @media (max-width: (1023/basefont)rem)
            display none !important

    .coz-mobile
        @media (min-width: (1024/basefont)rem)
            display none !important


// LAYOUT
html
  height  100%
  // Necessary not to have broken layout on iOS
  // https://github.com/cozy/cozy-ui/issues/161
  overflow hidden

body
  display         flex
  flex-direction  column
  align-items     stretch
  width           100vw
  height          100%
  overflow        hidden

[role=application]
    display     flex
    height      inherit
    flex        1 1 100%
    overflow-x  hidden
    overflow-y  auto


// BOXES
[aria-hidden=true]
    hide()


// COLORS
body
    background-color white
    color            black


// BUTTONS
@import '../components/button'
:global .coz-btn
    @extend $button

    &.coz-btn--regular
        @extend $button--regular

    &.coz-btn--secondary
        @extend $button--secondary

    &.coz-btn--danger
        @extend $button--danger

    &.coz-btn--danger-outline
        @extend $button--danger-outline

    &.coz-btn--highlight
        @extend $button--highlight

    &.coz-btn--share
        @extend $button--share

    &.coz-btn--upload
        @extend $button--upload

    &.coz-btn--download
        @extend $button--download

    &.coz-btn--delete
        @extend $button--delete

    &.coz-btn--more
        @extend $button--more

    &.coz-btn--close
        @extend $button--close

    &.coz-btn--extra
        @extend $button--extra

    &.coz-btn--extra-white
        @extend $button--extra-white

    &.coz-btn-alert--error
        @extend $button-alert--error

    &.coz-btn-alert--info
        @extend $button-alert--info

    &.coz-btn-alert--success
        @extend $button-alert--success


// LINKS
:global .coz-link--upload
    @extend $link--upload


// FORMS
@import '../components/forms'

[data-input=radio]
    @extend $form-checkbox

    label::before
        border-radius 50%
        border        2px solid cool-grey
        box-shadow    inset 0 0 0 checkbox-size transparent

    input[type=radio]:checked + label::before
        box-shadow inset 0 0 0 3px pale-grey, inset 0 0 0 checkbox-size dodger-blue


[data-input=checkbox]
    @extend $form-checkbox

    label
        &::before
        &::after
            border-radius 2px

        &::before
            box-shadow        inset 0 0 0 2px alpha(charcoal-grey, 0.25)
            background-color  white

            &:hover
                box-shadow inset 0 0 0 2px dodger-blue

        &::after
            background-image  embedurl('../../assets/icons/ui/check.svg')
            background-size   contain

    &[aria-checked='mixed'] label::after
            background-image  embedurl('../../assets/icons/ui/dash.svg')
            background-size   contain

    input[type=checkbox]
        &:checked
            & + label::before
                box-shadow inset 0 0 0 checkbox-size dodger-blue

            & + label::after
                opacity   1
                transform scale(1)

        &:not(:checked) + label::after
            opacity   0
            transform scale(0)
// @stylint on
