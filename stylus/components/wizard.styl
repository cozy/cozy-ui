@require '../tools/mixins'
@require '../settings/breakpoints'
@require '../objects/layouts'
@require '../components/forms'
@require '../components/button'

// Wizard layout
$wizard
    position fixed
    top 0
    left 0
    box-sizing border-box
    height 100%
    display flex
    justify-content center
    align-items center
    width 100%
    background-color var(--white)
    color var(--charcoalGrey)
    text-align center

    +small-device()
        flex-direction column
        justify-content flex-start

$wizard--waiting
    color var(--white)
    background-color var(--primaryColor)

$wizard--scroll
    position absolute
    padding-top rem(56)

    +medium-screen()
        box-sizing border-box

    +small-device()
        padding-top 0

$wizard--dual
    position static
    width 100%

$wizard-wrapper
    @extend $elastic
    justify-content center
    width 100%
    height 100%
    max-width rem(544)
    text-align left

    +small-device()
        justify-content flex-start

$wizard-wrapper--center
    +small-device()
        justify-content center

$wizard-wrapper--bleed
    align-items center
    max-width 100%

$wizard-wrapper--dual
    display flex
    flex-direction column
    align-items center
    height 100vh
    @media (max-height: rem(608))
        min-height 100vh
        height auto

$wizard-dual
    flex 1 1 50%
    width 100%
    display flex
    flex-direction column
    align-items center
    justify-content flex-start

    &:first-child
        justify-content flex-end
        color var(--white)
        background-color var(--primaryColor)

$wizard-errors
    order 1
    margin rem(16) 0 0
    font-size rem(14)
    line-height 1.7
    font-style italic

    p
        margin 0

    +small-device()
        margin-top rem(8)

$wizard-header
    @extend $elastic-bar
    display flex
    flex-direction column
    box-sizing border-box
    max-width rem(544)
    margin rem(16) 0 rem(8)
    padding 0 rem(16)
    position relative

    +small-device()
        margin rem(16) 0 0

$wizard-header--dual
    margin-bottom rem(32)

    +small-device()
        margin-bottom rem(24)

$wizard-main
    display flex
    flex-direction column
    flex 0 1 auto
    box-sizing border-box
    width 100%
    padding 0 rem(16)
    @extend $elastic-content

    & > * // @stylint ignore
        flex-shrink 0

$wizard-footer
    @extend $elastic-bar
    display flex
    order 2
    flex-wrap wrap
    box-sizing border-box
    max-width rem(544)
    margin rem(32 0 24)
    padding 0 rem(16)
    padding-bottom env(safe-area-inset-bottom)

    & > button // @stylint ignore
    & > a:link // @stylint ignore
        flex 1 1 100%
        margin 0 0 rem(8)
        line-height 1.5

    +small-device()
        margin rem(24 0 8)

$wizard-footer--welcome
    justify-content space-between
    +tiny-screen('min')
        & > button // @stylint ignore
        & > a:link // @stylint ignore
            btn-margin = rem(4)
            flex 0 1 'calc(50% - %s)' % btn-margin

$wizard-footer--dual
    margin-top rem(32)

    +small-device()
        margin-top rem(24)
        font-size rem(14)

// Wizard elements
$wizard-logo
    position relative
    margin 0 auto
    width rem(120)

$wizard-logo-img
    width 100%
    vertical-align center

$wizard-logo-badge
    display flex
    align-items center
    justify-content center
    position absolute
    bottom rem(-6)
    right rem(-6)
    width rem(32)
    height rem(32)
    border .125rem solid var(--white)
    background-color var(--primaryColor)
    border-radius 50%

$wizard-header-help
    order -1
    margin 0 0 rem(8)
    font-size rem(18)
    line-height 1.5
    text-align center
    +small-device()
        margin rem(4) 0 0
        font-size rem(16)

$wizard-disclaimer
    display flex
    margin rem(24 0 8)
    flex-direction row
    align-items flex-start
    font-size rem(15)
    line-height 1.33

    span
        flex 0 0 auto
        margin-right rem(16)
        background-color var(--grannyApple)
        padding rem(8)
        border-radius 50%

    svg
        display block
        fill var(--emerald)

    strong
        color var(--emerald)

    +small-device()
        display none

$wizard-desc
    margin rem(32) 0 0
    line-height 1.5

    a
        color var(--primaryColor)
        text-decoration none

        &:hover
        &:focus
            color var(--primaryColorDark)

    +small-device()
        margin rem(24) 0 0

$wizard-desc--footer
    margin rem(32 0)

    +small-device()
        margin rem(16 0)

$wizard-header-fixed
    position fixed
    top rem(8)
    left rem(16)
    display inline-flex
    align-items center

$wizard-previous
    position absolute
    top 50%
    left 0
    transform translateY(-50%)
    margin 0
    padding rem(10) rem(16)
    color var(--coolGrey)

$wizard-brand
    margin-left rem(32)
    +small-device()
        display none

$wizard-brand--invert
    svg
        filter brightness(0) invert(100%)

$wizard-brand-with
    position relative
    padding-left rem(24)
    margin-left rem(8)

    &:before
        content ''
        position absolute
        left 0
        top 50%
        height rem(24)
        border-left rem(1) solid var(--dividerColor)
        transform translateY(-50%)

$wizard-next
    padding-right rem(48)
    padding-left rem(48)
    svg
        position absolute
        right rem(16)

$wizard-button
    +medium-device()
        {button--large}

$wizard-buttonlink
    {fz-xsmall}
    +tiny-screen('min')
        {button--large}
        {fz-small}


$wizard-input
    +small-device()
        {input-text--medium}

$wizard-dual-btn
    position absolute
    bottom rem(-39)
    left rem(16)
    right rem(16)
    margin 0
    width 'calc(100% - %s)' % rem(32)
    font-size rem(14)

    +tiny-screen('min')
        {button--large}
        bottom rem(-32)
        font-size rem(16)

    &:hover
    &:focus
        background-color var(--emerald)
        border-color var(--emerald)

$wizard-waiting-icon
    margin 0 0 rem(32)
    height rem(99)

    svg
        display block
        margin 0 auto
        height 100%
        width 100%

    +small-device()
        margin-bottom rem(16)
        height rem(55)

$wizard-dual-icon
    @extend $wizard-waiting-icon
    margin 0 0 rem(16)
    height rem(123)


    +small-device()
        height rem(82)

$wizard-title
    margin 0
    text-align center
    font-size rem(32)
    line-height 1.25
    +small-device()
        font-size rem(18)
        line-height 1.78

$wizard-dual-title
    @extend $wizard-title
    margin-bottom rem(16)
    font-size rem(40)

    +small-device()
        margin-bottom rem(8)
        font-size rem(24)
        line-height 1.3

$wizard-title-sub
    display block
    margin-top rem(8)
    opacity .64
    font-size rem(16)
    font-weight normal
    line-height 1.5
    +small-device()
        margin 0
        font-size rem(16)
        line-height 1.5

$wizard-subtitle
    margin 0
    text-align center
    font-size rem(16)
    font-weight normal
    line-height 1.5
    +small-device()
        font-size rem(14)
        line-height 1.15

$wizard-dual-subtitle
    @extend $wizard-subtitle
    font-size rem(20)
    line-height 1.4

    +small-device()
        font-size rem(16)
        line-height 1.5

$wizard-title--welcome
    +small-device()
        font-size rem(24)
        line-height 1.17

$wizard-showbutton
    position absolute
    right 0
    top rem(11)
    margin 0
    border 0
    padding 0
    min-width auto
    background-color transparent
    color var(--coolGrey)

    &:hover
    &:focus
        background-color inherit
        color var(--charcoalGrey)

$wizard-dualfield
    display flex
    flex-direction row
    align-items stretch
    border rem(1) solid var(--dividerColor)
    border-radius rem(2)

$wizard-dualfield--focus
    border-color var(--primaryColor)

$wizard-dualfield--error
    border-color var(--errorColor)

$wizard-dualfield-wrapper
    flex 1 1 auto

$wizard-dualfield-input
    border 0
    padding-right rem(8)
    &:hover
    &:focus
        position relative
        z-index 1
        border 0
        outline 0

    +small-device()
        {input-text--medium}
        padding-right rem(4)

$wizard-protocol
    display flex
    align-items center
    background-color var(--paleGrey)
    border-right rem(1) solid var(--dividerColor)
    padding 0 rem(16)

    svg
        fill currentColor
        margin-right rem(8)

$wizard-domain
    display flex
    flex-direction column
    justify-content center
    flex 0 1 auto
    margin-right rem(16)
    max-width rem(140)

$wizard-select
    @extend $select
    flex 0 0 auto
    margin rem(2)
    width rem(148)
    border 0
    padding rem(10 38 10 8)

    &:hover
    &:focus
        position relative
        z-index 1
        background-color var(--paleGrey)
        border 0
        outline 0

$wizard-select--medium
    @extend $select--medium
    padding rem(5 38 7 8)

$wizard-select--narrow
    width rem(40)

$wizard-requirements
    order 2
    margin-bottom 0
    padding 0
    list-style disc inside
    line-height 1.5
    font-style italic
    color var(--coolGrey)

    span
        display inline-block
        text-indent rem(6)

    +small-device()
        font-size rem(14)
        margin-top rem(8)

        span
            text-indent rem(2)

$wizard-agreements
    display flex
    flex-direction row
    margin 0 auto
    padding 0
    list-style none
    max-width rem(1032)

    +medium-screen()
        flex-direction column
        margin 0 auto
        max-width rem(512)

$wizard-agreements-item
    position relative
    overflow hidden
    display flex
    flex-direction column
    flex 1 1 calc(100% / 6 - .5rem)
    margin rem(16 4 0)
    border rem(1) solid var(--dividerColor)
    border-radius rem(8)
    padding rem(16)
    color var(--slateGrey)

    +medium-screen()
        flex-direction row
        flex 1 0 auto
        margin rem(16) 0 0
        border 0
        padding 0

        &:last-child p
            border 0
            margin 0

$wizard-agreements-desc
    min-height rem(32)
    font-size rem(14)
    line-height 1.43

    +medium-screen()
        flex 1 1 100%
        border-bottom rem(1) solid var(--dividerColor)
        padding-bottom rem(16)
        font-size rem(16)
        line-height 1.5

$wizard-agreements-icon
    --bgcolor var(--dodgerBlue) // @stylint ignore
    box-sizing border-box
    display flex
    align-items center
    justify-content center
    flex 0 0 auto
    margin 0 auto rem(16)
    width rem(48)
    height rem(48)
    border-radius 50%
    padding rem(12)
    background-color var(--bgcolor)

    svg
        display block
        width 100%
        height 100%
        fill var(--white)

    +medium-screen()
        margin 0 rem(24) 0 0
        width rem(32)
        height rem(32)
        border-radius 50%
        padding rem(8)

$wizard-updated
    position absolute
    right rem(-27)
    top rem(19)
    width rem(100)
    background-color var(--primaryColor)
    text-transform uppercase
    color var(--primaryContrastTextColor)
    transform rotate(-315deg)
    padding rem(5)
    font-size rem(10)
    line-height 1
    font-weight bold
    text-align center

$wizard-progress
    position relative
    margin rem(8) auto rem(32)
    max-width rem(512)
    height rem(6)

    &:before
        content ''
        position absolute
        top 0
        left 0
        bottom 0
        right 0
        opacity .24
        border-radius: rem(3)
        background-color var(--white)

    @media (max-width: 33.9375rem)
        margin rem(8 16 24)

    @media (max-height: 23.4375rem)
        margin-bottom rem(24)

$wizard-progress-bar
    position relative
    z-index 1
    width 0
    height 100%
    background-color var(--white)
    border-radius rem(3)
    transition width .5s ease-out

$wizard-notice
    order 2
    margin rem(32) 0 0
    line-height 1.5

    & + &
        margin-top rem(16)

    p
        margin 0

    a
        color var(--dodgerBlue)
        text-decoration none
        font-weight bold

        &:hover
        &:focus
            color var(--scienceBlue)

    +tiny-screen('min')
        margin rem(32) 0 0

$wizard-notice--lost
    font-size rem(16)
