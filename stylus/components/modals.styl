@require '../settings/palette'
@require '../settings/z-index'
@require '../settings/breakpoints'

/*------------------------------------*\
  Modals
  ======

  This file contains all needs for modals
\*------------------------------------*/

$modals
    modal-width = 34rem
    position relative
    z-index $modal-index

    .coz-modal-wrapper
        position          fixed
        top               0
        left              0
        display           flex
        flex-direction    row
        align-items       start
        box-sizing        border-box
        width             100vw
        height            100vh
        overflow-y        scroll
        padding           1rem

    .coz-modal
        position          relative
        margin            auto
        border-radius     .5rem
        min-width         modal-width
        max-height        100%

        background-color  white
        color             charcoalGrey
        display           flex
        flex-direction    column

    .coz-modal--small
        max-width 34rem

    .coz-modal--medium
        max-width 36rem

    .coz-modal--large
        max-width 40rem

    .coz-modal--xlarge
        max-width 50rem

    .coz-modal--xxlarge
        max-width 60rem

    .coz-modal-content:first-child
    .coz-btn-modal-close + .coz-modal-content
        padding-top    1.5rem

    .coz-modal-content:last-child
        padding-bottom    1.5rem

    .coz-modal-content
        padding 0 1.5rem
        overflow auto

    .coz-modal-section
        border-top 1px solid silver

    .coz-modal-content.coz-modal-title
        margin       0 0 1rem
        // font is 1.5em
        padding      1.5rem 3rem 0 1.5rem
        font-weight  bold
        overflow     visible

        +small-screen()
            font-size 1.25rem
            margin-bottom .5rem

    .coz-btn-modal-close
        position         absolute
        top              1.125rem
        right            1em
        margin           0
        padding          0
        background-size  1.75rem
        background-color transparent
        cursor           pointer
        display block
        width 2.5rem
        height 2.5rem

        +small-screen()
            background-size 1.5rem

    .coz-modal-buttons
        margin-top  1.5rem
        text-align  right
        overflow    visible

        button
            margin-right  0
            margin-left   .625rem
            font-size     .9rem

        +small-screen()
            &
                display flex
                flex-direction column-reverse
                flex-shrink 0
                margin-top .5rem
                button
                    width 100%
                    margin-left 0
                // since the order is reverse we target the first-child
                button:not(:first-child)
                    margin-bottom .25rem

        &.coz-modal--hidden
            top                         -25%
            opacity                     0
            transition-timing-function  ease-in

    .coz-modal--fullscreen
    .coz-modal--overflowHidden
        overflow hidden

    @media (max-width (modal-width + 2rem))
        .coz-modal
            margin      auto
            max-width   modal-width
            min-width   auto
            width       100%
