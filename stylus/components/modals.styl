@require '../settings/palette'
@require '../settings/z-index'
@require '../settings/breakpoints'
@require '../objects/layouts'

/*------------------------------------*\
  Modals
  ======

  This file contains all needs for modals
\*------------------------------------*/

// Modal sizes
small-width = 34rem
medium-width = 36rem
large-width = 40rem
xlarge-width = 50rem
xxlarge-width = 60rem

// Modal margins
small-margin = .5rem
medium-margin = 1.5rem
large-margin = 3rem

// Modal paddings
tiny-padding = 1rem
small-padding = 1.5rem
medium-padding = 2rem
large-padding = 3rem


$modals
    position relative
    z-index $modal-index

$modal-wrapper
    position fixed
    top 0
    left 0
    display flex
    flex-direction column
    align-items center
    box-sizing border-box
    width 100vw
    height 100vh
    overflow-y scroll
    padding large-margin

    +small-screen()
        padding medium-margin

    +tiny-screen()
        padding small-margin

$modal
    @extend $elastic
    position relative
    border-radius .5rem
    max-height 100%
    background-color white
    color charcoalGrey

$modal--small
    width small-width

    @media (max-width: small-width + small-margin * 2)
        width auto

$modal--medium
    width medium-width

    @media (max-width: medium-width + medium-margin * 2)
        width auto

$modal--large
    width large-width

    @media (max-width: large-width + medium-margin * 2)
        width auto

$modal--xlarge
    width xlarge-width

    @media (max-width: xlarge-width + large-margin * 2)
        width auto

$modal--xxlarge
    width xxlarge-width

    @media (max-width: xxlarge-width + large-margin * 2)
        width auto

$modal-header
    @extend $elastic-bar
    margin 0 0 1rem
    padding 'calc(%s - .3rem)' % medium-padding 3rem 0 medium-padding
    font-weight bold
    overflow visible
    min-height 2.5rem

    +tiny-screen()
        margin-bottom .5rem
        padding 'calc(%s - .3rem)' % small-padding 2rem 0 small-padding
        font-size 1.25rem

$modal-header--small
    padding 'calc(%s - .3rem)' % small-padding 3rem 0 small-padding

    +tiny-screen()
        padding 'calc(%s - .3rem)' % tiny-padding 2rem 0 tiny-padding

$modal-header--large
    padding 'calc(%s - .3rem)' % large-padding 3rem 0 large-padding

    +small-screen()
        padding 'calc(%s - .3rem)' % medium-padding 2rem 0 medium-padding

$modal-content
    @extend $elastic-content
    padding 0 medium-padding

    &:last-child
        padding-bottom medium-padding
        border-bottom-right-radius .5rem
        border-bottom-left-radius .5rem

    +tiny-screen()
        padding 0 small-padding

        &:last-child
            padding-bottom small-padding

$modal-content--small
    padding 0 small-padding

    &:last-child
        padding-bottom small-padding

    +tiny-screen()
        padding 0 tiny-padding

        &:last-child
            padding-bottom tiny-padding

$modal-content--large
    padding 0 large-padding

    &:last-child
        padding-bottom large-padding

    +small-screen()
        padding 0 medium-padding

        &:last-child
            padding-bottom medium-padding

$modal-footer
    @extend $elastic-bar
    padding medium-padding
    text-align right

    button:last-child
        margin-right 0

    +small-screen()
        display flex
        flex-direction column-reverse

        button
            width 100%
            margin 0

            // since the order is reverse we target the first-child
            &:not(:first-child)
                margin-bottom .25rem

    +tiny-screen()
        padding small-padding

$modal-footer--small
    padding small-padding

    +tiny-screen()
        padding tiny-padding

$modal-footer--large
    padding large-padding

    +tiny-screen()
        padding medium-padding


$modal-section
    border-top 1px solid silver

$modal-close
    position absolute
    top 1.5rem
    right 1.5rem
    margin 0
    padding 0
    background-size 1.75rem
    background-color transparent
    cursor pointer
    display block
    width 2.5rem
    height 2.5rem

    +tiny-screen()
        top .8rem
        right 1rem

$modal-close--small
    top 1rem
    right 1rem

    +tiny-screen()
        top .3rem
        right .5rem


$modal-close--large
    top 2.5rem
    right 2.5rem

    +small-screen()
        top 1.3rem
        right 1.5rem

$modal--hidden
    overflow hidden
